@import fr.gospeak.web.domain.{HeaderInfo, NavLink, NavDropdown}

@(h: HeaderInfo)
<nav class="navbar navbar-expand-lg sticky-top navbar-light bg-light">
    <div class="container">
        <a class="navbar-brand" href="@h.brand.link">@h.brand.name</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
        aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav mr-auto">
            @h.links.map {
                case NavLink(name, link, true) => {
                    <a class="nav-item nav-link active" href="@link">@name <span class="sr-only">(current)</span></a>
                }
                case NavLink(name, link, false) => {
                    <a class="nav-item nav-link" href="@link">@name</a>
                }
                case NavDropdown(name, links) => {
                    <div class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="dropdown-@name" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">@name</a>
                        <div class="dropdown-menu" aria-labelledby="dropdown-@name">
                        @links.map {
                            case NavLink(name, link, active) => {
                                <a class="dropdown-item @if(active) {active}" href="@link">@name</a>
                            }
                        }
                        </div>
                    </div>
                }
            }
            </div>
            @if(h.rightLinks.nonEmpty) {
                <div class="navbar-nav">
                @h.rightLinks.map {
                    case NavLink(name, link, true) => {
                        <a class="nav-item nav-link active" href="@link">@name <span class="sr-only">(current)</span></a>
                    }
                    case NavLink(name, link, false) => {
                        <a class="nav-item nav-link" href="@link">@name</a>
                    }
                    case NavDropdown(name, links) => {
                        <div class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="dropdown-@name" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">@Html(name)</a>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdown-@name">
                            @links.map {
                                case NavLink(name, link, active) => {
                                    <a class="dropdown-item @if(active) {active}" href="@link">@name</a>
                                }
                            }
                            </div>
                        </div>
                    }
                }
                </div>
            }
        </div>
    </div>
</nav>

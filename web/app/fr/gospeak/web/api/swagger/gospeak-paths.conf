# https://github.com/lightbend/config#uses-of-substitutions

"/groups" {
  get {
    tags: ["Group"]
    summary: "paginated list of groups"
    parameters: ${vars.parameters.page} []
    responses {
      200: ${vars.responses.page} {content {application/json {schema {properties {data {items {"$ref": "#/components/schemas/GroupPublic"}}}}}}}
    }
  }
}
"/groups/{group-slug}" {
  get {
    tags: ["Group"]
    summary: "details for a group"
    parameters: [{name: "group-slug", in: "path", required: true, schema {"$ref": "#/components/schemas/GroupSlug"}}]
    responses {
      200: ${vars.responses.item} {content {application/json {schema {properties {data {"$ref": "#/components/schemas/GroupPublic"}}}}}}
      404: ${vars.responses.error}
    }
  }
}
"/groups/{group-slug}/events" {
  get {
    tags: ["Group"]
    summary: "paginated list of events for the group"
    parameters: [{name: "group-slug", in: "path", required: true, schema {"$ref": "#/components/schemas/GroupSlug"}}] ${vars.parameters.page}
    responses {
      200: ${vars.responses.page} {content {application/json {schema {properties {data {items {"$ref": "#/components/schemas/EventPublic"}}}}}}}
    }
  }
}
"/groups/{group-slug}/events/{event-slug}" {
  get {
    tags: ["Group"]
    summary: "details for an event"
    parameters: [
      {name: "group-slug", in: "path", required: true, schema {"$ref": "#/components/schemas/GroupSlug"}}
      {name: "event-slug", in: "path", required: true, schema {"$ref": "#/components/schemas/EventSlug"}}
    ]
    responses {
      200: ${vars.responses.item} {content {application/json {schema {properties {data {"$ref": "#/components/schemas/EventPublic"}}}}}}
      404: ${vars.responses.error}
    }
  }
}
"/groups/{group-slug}/talks" {
  get {
    tags: ["Group"]
    summary: "paginated list of given talks for the group"
    parameters: [{name: "group-slug", in: "path", required: true, schema {"$ref": "#/components/schemas/GroupSlug"}}] ${vars.parameters.page}
    responses {
      200: ${vars.responses.page} {content {application/json {schema {properties {data {items {"$ref": "#/components/schemas/ProposalPublic"}}}}}}}
    }
  }
}
"/groups/{group-slug}/talks/{proposal-id}" {
  get {
    tags: ["Group"]
    summary: "details for a talk"
    parameters: [
      {name: "group-slug", in: "path", required: true, schema {"$ref": "#/components/schemas/GroupSlug"}}
      {name: "proposal-id", in: "path", required: true, schema {"$ref": "#/components/schemas/ProposalId"}}
    ]
    responses {
      200: ${vars.responses.item} {content {application/json {schema {properties {data {"$ref": "#/components/schemas/ProposalPublic"}}}}}}
      404: ${vars.responses.error}
    }
  }
}


"/cfps" {
  get {
    tags: ["CFP"]
    summary: "paginated list of published CFPs"
    parameters: ${vars.parameters.page} []
    responses {
      200: ${vars.responses.page} {content {application/json {schema {properties {data {items {"$ref": "#/components/schemas/CfpPublic"}}}}}}}
    }
  }
}
"/cfps/{cfp-slug}" {
  get {
    tags: ["CFP"]
    summary: "details for a CFP"
    parameters: [{name: "cfp-slug", in: "path", required: true, schema {"$ref": "#/components/schemas/CfpSlug"}}]
    responses {
      200: ${vars.responses.item} {content {application/json {schema {properties {data {"$ref": "#/components/schemas/CfpPublic"}}}}}}
      404: ${vars.responses.error}
    }
  }
}


"/speakers" {
  get {
    tags: ["Speaker"]
    summary: "paginated list of speakers"
    parameters: ${vars.parameters.page} []
    responses {
      200: ${vars.responses.page} {content {application/json {schema {properties {data {items {"$ref": "#/components/schemas/UserPublic"}}}}}}}
    }
  }
}
"/speakers/{user-slug}" {
  get {
    tags: ["Speaker"]
    summary: "details for a speaker"
    parameters: [{name: "user-slug", in: "path", required: true, schema {"$ref": "#/components/schemas/UserSlug"}}]
    responses {
      200: ${vars.responses.item} {content {application/json {schema {properties {data {"$ref": "#/components/schemas/UserPublic"}}}}}}
      404: ${vars.responses.error}
    }
  }
}

@import gospeak.core.domain.User
@import gospeak.core.domain.utils.SocialAccounts
@import gospeak.libs.scala.domain.Page
@import gospeak.web.domain.{Breadcrumb, PageMeta}
@import gospeak.web.pages.published.speakers.routes.SpeakerCtrl
@import gospeak.web.pages.published.partials.html.container
@import gospeak.web.pages.user.talks.routes.TalkCtrl
@import gospeak.web.utils.{Formats, UserAwareReq}

@(speakers: Page[User.Full])(b: Breadcrumb)(implicit req: UserAwareReq[AnyContent])
@socialIcon(s: SocialAccounts.SocialAccount) = {
    <li class="list-inline-item mr-0">
        <a class="btn btn-sm btn-icon btn-soft-secondary rounded-circle" href="@s.link" target="_blank" title="@s.handle">
            <span class="fab fa-@s.name btn-icon__inner"></span>
        </a>
    </li>
}
@speakerItem(u: User.Full) = {
    <div class="card position-relative mb-5">
        <div class="card-body p-3">
            <div class="row align-items-center">
                <div class="col-sm-7 mb-3 mb-sm-0">
                    <div class="d-flex">
                        <a href="@SpeakerCtrl.detail(u.slug)" class="position-relative u-lg-avatar mr-3">
                            <img class="img-fluid rounded-circle" src="@u.avatar.value" alt="@u.name.value avatar" style="width: 10rem">
                            <!--<span class="badge badge-xs badge-outline-primary badge-pos badge-pos--bottom-left rounded-circle"></span>-->
                        </a>
                        <div class="mr-3">
                            <div class="mb-2">
                                <h2 class="h6 mb-0"><a href="@SpeakerCtrl.detail(u.slug)">@u.name.value</a></h2>
                                <span class="small">@{(u.company.toList ++ u.location.toList).mkString(", ")}</span>
                            </div>
                            <ul class="list-inline mb-0">
                                @u.social.all.map { s => @socialIcon(s) }
                            </ul>
                        </div>
                    </div>
                </div>
                <!--<div class="col-sm-5 align-self-sm-end">
                    <div class="text-sm-right">
                        <a class="btn btn-sm btn-soft-primary transition-3d-hover" href="#">
                            <span class="far fa-envelope mr-2"></span>
                            Send a Message
                        </a>
                    </div>
                </div>-->
            </div>
            <!--<a class="btn btn-sm btn-icon btn-soft-warning btn-bg-transparent position-absolute top-0 right-0 rounded-circle mt-3 mr-3" title="Add to favorites" data-toggle="tooltip" data-placement="top">
                <span class="far fa-star btn-icon__inner"></span>
            </a>-->
        </div>
    </div>
}
@container("Speakers - Gospeak", PageMeta.default(), b, full = true, dark = true)() {
@* cf https://htmlstream.com/preview/front-v2.9.4/html/account/members-list.html *@
<main id="content" role="main">
    <div id="banner_speakers" class="svg-preloader position-relative bg-img-hero pt-40" style="background-image: url(@routes.Assets.versioned("web/img/banner-speaker3.jpg"));">
        <div class="container space-top-0 space-bottom-3 space-md-3 space-bottom-lg-4">
            <div class="w-md-65 w-lg-50">
                <h1 class="h1 font-weight-medium text-white">Gospeak</h1>
                <h2 class="h1 btn-text-secondary font-weight-medium">Community</h2>
            </div>
        </div>
        <figure class="position-absolute right-0 bottom-0 left-0">
            <img class="js-svg-injector" data-parent="#banner_speakers" src="@routes.Assets.versioned("web/img/wave-banner-speaker.svg")" alt="banner">
        </figure>
    </div>
    @Some(scala.util.Random.shuffle(speakers.items)).map { s =>
        <div class="container position-relative z-index-2">
            <div class="row justify-content-center">
                @s.headOption.map { u =>
                    <a href="@SpeakerCtrl.detail(u.slug)" class="col-3 col-lg-2 mt-n11">
                        <div class="bg-white shadow-soft rounded-circle p-2 mx-auto u-lg-avatar">
                            <img class="img-fluid rounded-circle" src="@u.avatar.value" alt="@u.name.value avatar" style="width: 10rem">
                        </div>
                    </a>
                }
                @s.drop(1).headOption.map { u =>
                    <a href="@SpeakerCtrl.detail(u.slug)" class="col-lg-2 d-none d-lg-inline-block mt-lg-n8">
                        <div class="bg-white shadow-soft rounded-circle p-2 mx-auto u-xl-avatar">
                            <img class="img-fluid rounded-circle" src="@u.avatar.value" alt="@u.name.value avatar" style="width: 10rem">
                        </div>
                    </a>
                }
                @s.drop(2).headOption.map { u =>
                    <a href="@SpeakerCtrl.detail(u.slug)" class="col-3 col-lg-2 mt-n4">
                        <div class="bg-white shadow-soft rounded-circle p-2 mx-auto u-lg-avatar">
                            <img class="img-fluid rounded-circle" src="@u.avatar.value" alt="@u.name.value avatar" style="width: 10rem">
                        </div>
                    </a>
                }
                @s.drop(3).headOption.map { u =>
                    <a href="@SpeakerCtrl.detail(u.slug)" class="col-3 col-lg-2 mt-n7">
                        <div class="bg-white shadow-soft rounded-circle p-2 mx-auto u-lg-avatar">
                            <img class="img-fluid rounded-circle" src="@u.avatar.value" alt="@u.name.value avatar" style="width: 10rem">
                        </div>
                    </a>
                }
                @s.drop(4).headOption.map { u =>
                    <a href="@SpeakerCtrl.detail(u.slug)" class="col-lg-2 d-none d-lg-inline-block mt-lg-n11">
                        <div class="bg-white shadow-soft rounded-circle p-2 mx-auto u-xl-avatar">
                            <img class="img-fluid rounded-circle" src="@u.avatar.value" alt="@u.name.value avatar" style="width: 10rem">
                        </div>
                    </a>
                }
                @s.drop(5).headOption.map { u =>
                    <a href="@SpeakerCtrl.detail(u.slug)" class="col-3 col-lg-2">
                        <div class="bg-white shadow-soft rounded-circle p-2 mx-auto u-lg-avatar">
                            <img class="img-fluid rounded-circle" src="@u.avatar.value" alt="@u.name.value avatar" style="width: 10rem">
                        </div>
                    </a>
                }
            </div>
        </div>
    }
    <div class="container">
        <div class="container mt-7">
            @Formats.paginated[User.Full](speakers, SpeakerCtrl.list, speakerItem)
        </div>
        <h2 class="text-center font-weight-medium" style="margin-bottom: 10rem">
            Not in this list? <a class="btn btn-soft-success" href="@TalkCtrl.create()">Add your talk</a>
        </h2>
    </div>
</main>
}()

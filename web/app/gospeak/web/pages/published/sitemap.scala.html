@import cats.data.NonEmptyList
@import gospeak.core.domain._
@import gospeak.web.auth.routes.AuthCtrl
@import gospeak.web.pages.published.routes.HomeCtrl
@import gospeak.web.pages.published.cfps.routes.CfpCtrl
@import gospeak.web.pages.published.events.routes.EventCtrl
@import gospeak.web.pages.published.groups.routes.GroupCtrl
@import gospeak.web.pages.published.speakers.routes.SpeakerCtrl
@import gospeak.web.utils.UserAwareReq

@(
    users: Map[User.Id, User.Slug],
    talks: Seq[(Talk.Slug, NonEmptyList[User.Id])],
    groups: Map[Group.Id, Group.Slug],
    events: Seq[(Group.Id, Event.Slug)],
    proposals: Seq[(Group.Id, Proposal.Id)],
    cfps: Seq[Cfp.Slug],
    extCfps: Seq[ExternalCfp.Id],
    extEvents: Seq[ExternalEvent.Id],
    extProposals: Seq[(ExternalEvent.Id, ExternalProposal.Id)]
)(implicit req: UserAwareReq[AnyContent])
<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
    <url><loc>@AuthCtrl.login().absoluteURL()</loc></url>
    <url><loc>@AuthCtrl.signup().absoluteURL()</loc></url>
    <url><loc>@HomeCtrl.index().absoluteURL()</loc></url>
    <url><loc>@HomeCtrl.why().absoluteURL()</loc></url>
    <url><loc>@SpeakerCtrl.list().absoluteURL()</loc></url>
    <url><loc>@GroupCtrl.list().absoluteURL()</loc></url>
    <url><loc>@CfpCtrl.list().absoluteURL()</loc></url>
    <url><loc>@CfpCtrl.gettingStarted().absoluteURL()</loc></url>
    <url><loc>@EventCtrl.list().absoluteURL()</loc></url>
    @users.values.map { user => <url><loc>@SpeakerCtrl.detail(user).absoluteURL()</loc></url>}
    @talks.map { case (talk, speakers) => @speakers.toList.flatMap(users.get).map { user => <url><loc>@SpeakerCtrl.talk(user, talk).absoluteURL()</loc></url>}}
    @groups.values.map { group => <url><loc>@GroupCtrl.detail(group).absoluteURL()</loc></url>}
    @groups.values.map { group => <url><loc>@GroupCtrl.events(group).absoluteURL()</loc></url>}
    @groups.values.map { group => <url><loc>@GroupCtrl.talks(group).absoluteURL()</loc></url>}
    @groups.values.map { group => <url><loc>@GroupCtrl.speakers(group).absoluteURL()</loc></url>}
    @groups.values.map { group => <url><loc>@GroupCtrl.members(group).absoluteURL()</loc></url>}
    @events.map { case (id, event) => @groups.get(id).map { group => <url><loc>@GroupCtrl.event(group, event).absoluteURL()</loc></url>}}
    @proposals.map { case (id, proposal) => @groups.get(id).map { group => <url><loc>@GroupCtrl.talk(group, proposal).absoluteURL()</loc></url>}}
    @cfps.map { cfp => <url><loc>@CfpCtrl.detail(cfp).absoluteURL()</loc></url>}
    @extCfps.map { cfp => <url><loc>@CfpCtrl.detailExt(cfp).absoluteURL()</loc></url>}
    @extEvents.map { event => <url><loc>@EventCtrl.detailExt(event).absoluteURL()</loc></url>}
    @extProposals.map { case (event, proposal) => <url><loc>@EventCtrl.proposalExt(event, proposal).absoluteURL()</loc></url>}
</urlset>
